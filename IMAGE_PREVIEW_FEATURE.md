# 图片预览功能增强

## 新增功能

为agent前端的图片预览功能添加了点击放大查看的功能，提供更好的用户体验。

## 功能特性

### 1. 点击放大
- 点击任何上传的图片即可打开全屏预览
- 鼠标悬停时显示放大镜图标提示

### 2. 图片操作工具
- **缩放**: 支持 +/- 按钮或键盘快捷键 (+/-) 缩放图片
- **旋转**: 支持旋转按钮或键盘快捷键 (R) 90度旋转图片
- **重置**: 支持 1:1 按钮或键盘快捷键 (0) 重置图片状态
- **下载**: 支持下载按钮下载图片到本地

### 3. 键盘快捷键
- `ESC`: 关闭预览
- `+/-`: 放大/缩小图片
- `R`: 顺时针旋转90度
- `0`: 重置到原始大小和角度

### 4. 交互体验
- 平滑的动画过渡效果
- 点击背景关闭预览
- 悬停状态和视觉反馈
- 显示当前缩放比例

## 技术实现

### 新增文件
- `src/components/thread/ImagePreview.tsx`: 图片预览组件和相关hook

### 修改文件
- `src/components/thread/MultimodalPreview.tsx`: 添加点击事件和悬停效果
- `src/components/thread/index.tsx`: 集成图片预览功能

### 核心组件

#### ImagePreview 组件
提供全屏图片预览功能，支持缩放、旋转、下载等操作。

#### useImagePreview Hook
管理图片预览状态，提供打开/关闭预览的方法。

#### MultimodalPreview 增强
为图片添加点击事件处理和悬停效果，提升用户体验。

## 使用方法

1. 上传图片到聊天界面
2. 鼠标悬停在图片上会显示放大镜图标
3. 点击图片打开全屏预览
4. 使用工具栏按钮或键盘快捷键操作图片
5. 点击背景或按ESC键关闭预览

## 兼容性

- 保持原有功能完全兼容
- 新增的预览功能可以通过 `enablePreview` 属性控制
- 不影响PDF文件等其他文件类型的预览